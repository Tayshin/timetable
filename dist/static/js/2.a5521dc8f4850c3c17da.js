webpackJsonp([2],{407:function(e,t,a){a(460);var l=a(146)(a(424),a(452),null,null);e.exports=l.exports},424:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{tableData:[],teacher:{name:"",region:"",selectList:[]}}},created:function(){var e=this;this.$axios({url:"/subject_group",method:"get",baseURL:"http://110.64.72.31:8888/timetable"}).then(function(t){e.teacher.selectList=t.data}).catch(function(e){console.log("Error:",e)}),this.$axios({url:"/teacher",method:"get",baseURL:"http://110.64.72.31:8888/timetable"}).then(function(t){e.tableData=t.data}).catch(function(e){console.log("Error:",e)})},methods:{onSubmit:function(){var e=this;this.$message.success("提交成功！"+this.teacher.region),this.$axios({url:"/teacher",method:"post",baseURL:"http://110.64.72.31:8888/timetable",data:{teacherName:this.teacher.name,groupId:this.teacher.region}}).then(function(t){e.tableData=t.data}).catch(function(e){console.log("Error:",e)})},clear:function(e){this.$refs[e].resetFields()},handleDelete:function(e){var t=this;console.log(e),this.$axios({url:"/teacher/"+e,method:"delete",baseURL:"http://110.64.72.31:8888/timetable"}).then(function(e){console.log("Delete Success!"),t.tableData=e.data}).catch(function(e){console.log("Error:",e)})}}}},441:function(e,t,a){t=e.exports=a(66)(void 0),t.push([e.i,".demo-table-expand{font-size:0;margin-left:10px}.demo-table-expand label{color:#99a9bf}.demo-table-expand .el-form-item{margin-right:0;margin-bottom:0;width:300px}",""])},452:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-date"}),e._v(" 教师")]),e._v(" "),a("el-breadcrumb-item",[e._v("教师信息录入")])],1)],1),e._v(" "),a("div",{staticClass:"form-box"},[a("el-form",{ref:"teacher",attrs:{model:e.teacher,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"教师姓名",prop:"name"}},[a("el-input",{model:{value:e.teacher.name,callback:function(t){e.teacher.name=t},expression:"teacher.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"选择相关科组",prop:"region"}},[a("el-select",{attrs:{placeholder:"请选择所在科目组"},model:{value:e.teacher.region,callback:function(t){e.teacher.region=t},expression:"teacher.region"}},e._l(e.teacher.selectList,function(t){return a("div",[a("el-option",{key:"item.id",attrs:{value:t.id,label:t.groupName}},[e._v(e._s(t.groupName))])],1)}))],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("提交")]),e._v(" "),a("el-button",{attrs:{type:"warning"},on:{click:function(t){e.clear("teacher")}}},[e._v("重置")])],1)],1)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,stripe:"","max-height":"400"}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},e._l(t,function(t){return a("div",e._l(t.teachers,function(t){return a("div",[a("el-form-item",{attrs:{label:"教师ID: "}},[a("span",[e._v(e._s(t.id))])]),e._v(" "),a("el-form-item",{attrs:{label:"教师姓名: "}},[a("span",[e._v(e._s(t.teacherName))])]),e._v(" "),a("el-form-item",{attrs:{label:"点击删除 "}},[a("el-button",{attrs:{size:"small",icon:"delete",type:"danger"},on:{click:function(a){e.handleDelete(t.id)}}},[e._v("\n                        删除\n                    ")])],1)],1)}))}))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"id",label:"科组ID",width:"300",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"groupName",label:"科组名称",width:"300"}}),e._v(" "),a("el-table-column",{attrs:{prop:"num",label:"科组人数",width:"300",sortable:""}})],1)],1)},staticRenderFns:[]}},460:function(e,t,a){var l=a(441);"string"==typeof l&&(l=[[e.i,l,""]]),l.locals&&(e.exports=l.locals);a(147)("77243d32",l,!0)}});